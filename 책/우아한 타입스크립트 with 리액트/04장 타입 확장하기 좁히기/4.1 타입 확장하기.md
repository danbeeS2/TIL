# 4.1 타입 확장하기

- **타입 확장** : 기존 타입을 사용해서 새로운 타입을 정의하는 것
  - `extends`, `교차 타입`, `유니온 타입`을 사용해서 타입을 확장함

## 1. 타입 확장의 장점

### 1) 코드 중복 제거

타입 확장의 가장 큰 장점은 **코드 중복을 줄일 수 있다**는 것이다.  
타입스크립트 코드를 작성하다 보면 필연적으로 중복되는 타입 선언이 생기기 마련인데, 이때 **기존에 작성한 타입을 바탕으로 타입 확장을 하면** 코드 중복을 줄일 수 있다.

#### 예제 - extends를 사용한 타입 확장

```typescript
// 메뉴 요소 타입
// 메뉴 이름, 이미지, 할인율, 재고 정보를 담고 있음
interface BaseMenuItem {
  itemName: string | null;
  itemImageUrl: string | null;
  itemDiscountAmount: number;
  stock: number | null;
}

// 장바구니 요소 타입
// 메뉴 이름, 이미지, 할인율, 재고 정보, 수량 정보를 담고 있음
// 메뉴 타입에 수량 정보가 추가됨
interface BaseCartItem extends BaseMenuItem {
  quantity: number;
}
```

- 장바구니 요소는 메뉴 요소가 가지는 모든 타입이 필요하지만, `BaseMenuItem`에 있는 속성을 중복해서 작성하지 않고 확장(`extends BaseMenuItem`)을 활용하여 타입을 정의함.

### 2) 명시적인 코드 작성

타입 확장은 보다 더 명시적인 코드를 작성할 수 있게 한다.

- `extends BaseMenuItem` 코드는 `BaseCartItem`이 `BaseMenuItem`에서 확장되었다는 것을 쉽게 알수 있게 함

#### 예제 - 교차 타입(`&`)을 사용한 타입 확장

```typescript
// 메뉴 요소 타입
type BaseMenuItem = {
  itemName: string | null;
  itemImageUrl: string | null;
  itemDiscountAmount: number;
  stock: number | null;
};

// 장바구니 요소 타입
// 메뉴 타입에 수량 정보가 추가됨
type BaseCartItem = {
  quantity: number;
} & BaseMenuItem;
```

### 3) 확장성

`BaseMenuItem`을 활용하면 요구사항이 늘어날 때마다 새로운 `CartItem` 타입을 확장하여 정의할 수 있다.

#### 예제

```typescript
// 수정할 수 있는 장바구니 요소 타입
// 품절 여부, 수정할 수 있는 옵션 배열 정보가 추가되었다
interface EditableCartItem extends BaseCartItem {
  isSoldOut: boolean;
  optionGroups: SelectableOptionGroup[];
}

// 이벤트 장바구니 요소 타입
// 주문 가능 여부에 대한 정보가 추가되었다
interface EventCartItem extends BaseCartItem {
  orderable: boolean;
}
```

- `BaseCartItem`을 확장하여 만든 `EditableCartItem` 타입과 `EventCartItem` 타입
- 타입 확장을 활용하면 장바구니와 관련된 요소에 대한 요구사항이 생길 때마다 필요한 타입을 손쉽게 만들 수 있다
- 기존 장바구니 요소에 대한 요구사항이 변경되어도 `BaseCartItem`만 수정하면 `EditableCartItem`,`EventCartItem`은 수정하지 않아도 되기 때문에 효율적임
