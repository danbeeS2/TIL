# 2.1 타입이란

## 1. 자료형으로서의 타입

- **변수** : 값을 저장할 수 있는 `공간`이자 `값`.
- **자료형** (데이터 타입) : 여러 종류의 데이터를 식별하여 `컴파일러에 값의 형태를 알려주는` 분류 체계.

### 한정적인 컴퓨터의 메모리 공간

`한정적인 컴퓨터의 메모리 공간`에 효율적으로 특정 값을 저장하기 위해서는 먼저 `값의 크기`를 알아야 함.  
값의 크기를 명시한다면, 컴퓨터가 값을 참조할 때 **한 번에 읽을 메모리의 크기를 알 수 있어 값을 훼손하지 않고 가져올 수 있음.**

- ex. 메모리에 `숫자 타입`의 값이 할당 ➡︎ JS 엔진은 이 값을 `숫자`로 인식 ➡︎ 메모리 공간에 `8바이트 단위`로 값을 읽어옴

### 자바스크립트의 7가지 데이터 타입(자료형)

1. **Primitive**(원시 타입)

- **undefined**: 값이 할당되지 않은 상태를 나타냄.
- **null**: 의도적으로 "값이 없음"을 나타냄.
- **Boolean**: true 또는 false 값을 가짐.
- **String**: 텍스트 데이터를 표현.
- **Symbol**: 고유하고 변경 불가능한 값.
- **Numeric**: 숫자 값 (Number와 BigInt 포함).

2. **Reference**(참조 타입)

- **Object**: 다양한 형태의 데이터를 담을 수 있는 복합 자료형.

메모리의 관점에서의 데이터 타입은 프로그래밍 언어에서의 일반적으로 부르는 타입의 개념과 같다.  
개발자는 타입을 사용해서 `값을 종류를 명시`하고, `메모리를 더욱 효율적으로 사용`할 수 있다.

## 2. 집합으로서의 타입

- **프로그래밍에서의 타입** : 값이 가질 수 있는 **유효한 범위**의 집합.
- **타입 시스템** : 코드에서 사용되는 유효한 값의 범위(=타입)를 제한하여 **유효하지 않은 값**으로 인한 런타임 에러를 방지.

### 예제 1 - 함수의 인자에 잘못된 타입의 값을 할당한 경우

```typescript
const num: number = 123;
const str: string = "abc";

// 함수의 매개변수로 number 타입만 받을 수 있도록 제한
function func(n: number) {
  console.log(n);
}

func(str);
// 🚨 Error: Argument of type 'string' is not assignable to parameter of type 'number'.
// ➡︎ string 타입은 number 타입에 할당할 수 없기 때문에 에러 발생
```

### 예제 2 - 함수 인자 값의 타입을 지정하지 않은 경우

```typescript
function double(n) {
  // 매개변수 타입 미지정
  return n * 2;
}

console.log(double(2)); // 4
console.log(double("z")); // NaN
// ⚠️ 숫자가 아닌 다른 타입 값을 전달하면 의도하지 않은 결과 발생
```

#### 타입스크립트로 개선한 버전

```typescript
function double(n: number) {
  // 매개변수 타입 지정
  return n * 2;
}

console.log(double(2)); // 4
console.log(double("z"));
// 🚨 Error: Argument of type 'string' is not assignable to parameter of type 'number'.
// ➡︎ 타입스크립트는 컴파일 시점에 에러를 발생시킴.
```

함수의 매개변수 타입을 제한하면, 타입스크립트 컴파일러는 함수를 호출할 때 **호환되는 인자로 호출했는지를 판단**함.  
올바르지 않은 타입의 값을 함수로 호출했을 때, 타입스크립트 컴파일러는 곧바로 에러를 발생시킴.

## 3. 정적 타입과 동적 타입

**타입을 결정하는 시점**에 따라 `정적 타입`과 `동적 타입`으로 분류할 수 있음.

1. ### 정적 타입 시스템

- 모든 변수의 타입이 `컴파일 타임에 결정`됨.
- 코드 수준에서 개발자가 타입을 명시해줘야 함.
- **정적 타입 언어** : C, 자바, `타입스크립트` 등
- 컴파일 타임에 타입 에러를 발견할 수 있기 때문에 프로그램의 안전성을 보장할 수 있음.

2. ### 동적 타입 시스템

- 변수 타입이 `런타임`에서 결정됨.
- **동적 타입 언어** : 파이썬, `자바스크립트` 등
- 개발자가 직접 타입을 정의할 필요없음.
- 프로그램 실행 시 에러가 발견됨.

✅ 컴파일 타임과 런타임

- **컴파일 타임** : 코드가 `기계어로 변환되는 시점`.
- **런타임** : 컴파일 타임 이후 `프로그램이 실행되는 시점`.

## 4. 강타입과 약타입

- **암묵적 타입 변환** : 개발자가 의도적으로 타입을 명시하거나 바꾸지 않았는데도 **컴파일러 또는 엔진 등에 릐해서 런타임에 타입이 자동으로 변경되는 것.**
  - 개발자가 명시적으로 타입을 변환하지 않아도 다른 데이터 타입끼리 연산을 진행할 수 있는 편리함 제공.
  - 작성자의 의도와는 다르게 동작할 수 있기 때문에 예기치 못한 오류가 발생할 가능성도 높음.

**암묵적 타입 변환 여부**에 따라 타입 시스템을 `강타입`과 `약타입`으로 분류할 수 있음.

_서로 다른 타입을 갖는 값끼리 연산을 시도할 때, 그 차이점을 확인할 수 있다._

1. ### **강타입**

- 컴파일러 또는 인터프리터에서 `에러가 발생`함. (암묵적 타입 변환 X)
- **강타입 언어** : 파이썬, 루비, `타입스크립트` 등

2. ### **약타입**

- 컴파일러 또는 인터프리터가 `내부적으로 판단`해서 특정 값의 `타입을 변환하여 연산을 수행`한 후 값을 도출함. (암묵적 타입 변환 O)
- **약타입 언어** : C++, 자바, `자바스크립트` 등

### 예제

```javascript
// 자바스크립트 - 약타입

console.log("2" - 1); // 1
```

> 자바스크립트는 약타입 언어로, 타입이 명백하게 잘못 작성된 코드도 암묵적 타입 변환을 수행하여 결과를 도출함.  
>  이는 예기치 못한 오류를 발생시킬 가능성이 있으므로 타입 안정성을 유지하는 것이 중요.

```typescript
// 타입스크립트 - 강타입

console.log("2" - 1); // "2" error
// type error
// The left-hand side of an arithmetic operation must be of type ‘any’, ‘number’, ‘bigint’ or an enum type.
```

- **타입 시스템** : 타입 검사기가 프로그램에 타입을 할당하는 데 사용하는 규칙 집합.

  1. **명시적 타입 시스템** : 개발자가 직접 타입을 `명시`해줘야 함.
  2. **자동 타입 추론 시스템** : 컴파일러가 자동으로 타입을 `추론`함.

  ✅ **타입스크립트는 이 두 가지 방식을 모두 사용**할 수 있고, 이를 통해 코드의 안정성과 가독성을 높일 수 있음.

## 5. 컴파일 방식

- **컴파일** : 사람이 이해할 수 있는 방식으로 작성한 `코드를 컴퓨터가 이해할 수 있는 기계어로 바꿔주는 과정`.
  - 서로 다른 수준(고수준 - 저수준) 간의 코드 변환.

BUT **타입스크립트의 컴파일 결과물**은 사람이 이해할 수 있는 `자바스크립트 파일`임.

> 타입스크립트는 자바스크립트의 타입 에러를 컴파일 타임에 미리 발견하기 위해 만들어짐.
> 따라서 타입스크립트를 컴파일하면, **타입 정보가 모두 제거된 순수 자바스크립트 코드만 남게됨.**
